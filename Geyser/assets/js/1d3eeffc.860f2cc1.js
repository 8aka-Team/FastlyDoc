"use strict";(self.webpackChunkgeyser_wiki=self.webpackChunkgeyser_wiki||[]).push([[2240],{14025:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"geyser/custom-skulls","title":"Custom Skulls","description":"Geyser allows mapping of custom skulls to custom blocks for use in inventories and on entities.","source":"@site/wiki/geyser/custom-skulls.md","sourceDirName":"geyser","slug":"/geyser/custom-skulls","permalink":"/wiki/geyser/custom-skulls","draft":false,"unlisted":false,"editUrl":"https://github.com/GeyserMC/GeyserWebsite/tree/master/wiki/geyser/custom-skulls.md","tags":[],"version":"current","frontMatter":{"title":"Custom Skulls","description":"Geyser allows mapping of custom skulls to custom blocks for use in inventories and on entities."},"sidebar":"geyserSidebar","previous":{"title":"Custom Blocks","permalink":"/wiki/geyser/custom-blocks"},"next":{"title":"Geyser API","permalink":"/wiki/geyser/api"}}');var l=n(74848),t=n(28453);const o={title:"Custom Skulls",description:"Geyser allows mapping of custom skulls to custom blocks for use in inventories and on entities."},a=void 0,r={},d=[{value:"Enabling custom skulls",id:"enabling-custom-skulls",level:2},{value:"custom-skulls.yml",id:"custom-skullsyml",level:2},{value:"Player usernames",id:"player-usernames",level:3},{value:"Player UUIDs",id:"player-uuids",level:3},{value:"Player profiles",id:"player-profiles",level:3},{value:"Skin Hashes",id:"skin-hashes",level:3},{value:"Geyser extensions",id:"geyser-extensions",level:2},{value:"Scraping custom skulls from a world",id:"scraping-custom-skulls-from-a-world",level:2}];function c(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.p,{children:"Unlike Java Edition, Bedrock does not have native support for custom skull items. As a result, any method to display custom skulls with Geyser is, to some extent, a workaround. Geyser has long supported in-world custom skulls via the spawning of player entities. This, however, does not allow for the use of custom skulls in inventories, nor does it allow them to be worn by entities. To resolve this, Geyser now allows for the pre-registration of custom skulls via a config file. Geyser will then use this config file to generate a custom resource pack on start that contains the geometry and textures for the pre-registered custom skulls. To the client, these skulls are blocks. Therefore, they can be held in player inventories. In additional, attachables are defined for each skull block so that it is displayed correctly when worn and held by entities."}),"\n",(0,l.jsxs)(s.p,{children:["To setup custom skulls in geyser, you have to choose how you are going to register your blocks. The easiest is ",(0,l.jsx)(s.a,{href:"#custom-skullsyml",children:"using custom-skulls.yml"}),", but you can also ",(0,l.jsx)(s.a,{href:"#geyser-extensions",children:"use a Geyser extension"}),"."]}),"\n",(0,l.jsx)(s.h2,{id:"enabling-custom-skulls",children:"Enabling custom skulls"}),"\n",(0,l.jsxs)(s.p,{children:["To enable custom skulls, you must set ",(0,l.jsx)(s.code,{children:"add-non-bedrock-items"})," to ",(0,l.jsx)(s.code,{children:"true"})," in the ",(0,l.jsx)(s.code,{children:"config.yml"})," file. This will enable the generation of the custom resource pack and the translation of custom skulls to custom blocks. You can then add custom skulls to the ",(0,l.jsx)(s.code,{children:"custom-skulls.yml"})," file."]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-yaml",children:'# Whether to add any items and blocks which normally does not exist in Bedrock Edition.\n# This should only need to be disabled if using a proxy that does not use the "transfer packet" style of server switching.\n# If this is disabled, furnace minecart items will be mapped to hopper minecart items.\n# Geyser\'s block, item, and skull mappings systems will also be disabled.\n# This option requires a restart of Geyser in order to change its setting.\nadd-non-bedrock-items: true\n'})}),"\n",(0,l.jsx)(s.h2,{id:"custom-skullsyml",children:"custom-skulls.yml"}),"\n",(0,l.jsxs)(s.p,{children:["The configuration file ",(0,l.jsx)(s.code,{children:"custom-skulls.yml"})," is present in Geyser's configuration folder and is laid out as follows:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-yml",children:"# --------------------------------\n# Geyser Custom Skull Configuration Files\n#\n# This file is ignored with `add-custom-skull-blocks` disabled.\n# See `config.yml` for the main set of configuration values\n#\n# Custom skulls with the player username, UUID, or texture specified in this file\n# will be translated as custom blocks and be displayed in the inventory and on entities.\n# --------------------------------\n\n# Java player usernames\n# Skins will be updated when Geyser starts and players will have to re-download\n# the resource pack if any players had changed their skin.\nplayer-usernames:\n  - GeyserMC\n\n# Java player UUIDs\n# Skins will be updated when Geyser starts and players will have to re-download\n# the resource pack if any players had changed their skin.\nplayer-uuids:\n  - 8b8d8e8f-2759-47c6-acb5-5827de8a72b8\n\n# The long string of characters found in the NBT of custom player heads\nplayer-profiles:\n  - ewogICJ0aW1lc3RhbXAiIDogMTY1NzMyMjIzOTgzMywKICAicHJvZmlsZUlkIiA6ICJjZGRiZTUyMGQwNDM0YThiYTFjYzlmYzkyZmRlMmJjZiIsCiAgInByb2ZpbGVOYW1lIiA6ICJBbWJlcmljaHUiLAogICJ0ZXh0dXJlcyIgOiB7CiAgICAiU0tJTiIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYTkwNzkwYzU3ZTE4MWVkMTNhZGVkMTRjNDdlZTJmN2M4ZGUzNTMzZTAxN2JhOTU3YWY3YmRmOWRmMWJkZTk0ZiIsCiAgICAgICJtZXRhZGF0YSIgOiB7CiAgICAgICAgIm1vZGVsIiA6ICJzbGltIgogICAgICB9CiAgICB9CiAgfQp9\n\n# The hash of the skin on Minecraft's skin server\nskin-hashes:\n  - a90790c57e181ed13aded14c47ee2f7c8de3533e017ba957af7bdf9df1bde94f\n"})}),"\n",(0,l.jsx)(s.p,{children:"To add a skull, you need to choose any of the four methods, and add a new entry. The following sections will explain each method:"}),"\n",(0,l.jsx)(s.h3,{id:"player-usernames",children:"Player usernames"}),"\n",(0,l.jsx)(s.p,{children:"Skulls can be registered in this section via player usernames. These will be updated when Geyser starts. As a result, they may change if the player's username or skin changes."}),"\n",(0,l.jsx)(s.h3,{id:"player-uuids",children:"Player UUIDs"}),"\n",(0,l.jsx)(s.p,{children:"Skulls can be registered in this section via player UUIDs. These will be updated when Geyser starts. As a result, they may change if skin changes."}),"\n",(0,l.jsx)(s.h3,{id:"player-profiles",children:"Player profiles"}),"\n",(0,l.jsx)(s.p,{children:"Skulls can be registered in this section via the texture string found in the NBT of custom player heads. Unless the value is changed manually, these will not be updated when Geyser starts. As a result, they will not change if the player's username or skin changes. The data is simply base64 encoded JSON. For instance, the example given in the config decodes as follows:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-json",children:'{\n  "timestamp" : 1657322239833,\n  "profileId" : "cddbe520d0434a8ba1cc9fc92fde2bcf",\n  "profileName" : "Amberichu",\n  "textures" : {\n    "SKIN" : {\n      "url" : "http://textures.minecraft.net/texture/a90790c57e181ed13aded14c47ee2f7c8de3533e017ba957af7bdf9df1bde94f",\n      "metadata" : {\n        "model" : "slim"\n      }\n    }\n  }\n}\n'})}),"\n",(0,l.jsxs)(s.p,{children:["If on a paper server, this data can be obtained for a skull by holding the item in hand, and running the command ",(0,l.jsx)(s.code,{children:"/paper dumpitem"}),". This will output the NBT data of the item to chat and console. The texture string is found in the ",(0,l.jsx)(s.code,{children:"SkullOwner"})," tag, under the ",(0,l.jsx)(s.code,{children:"Properties"})," tag, under the ",(0,l.jsx)(s.code,{children:"textures"})," tag, under the ",(0,l.jsx)(s.code,{children:"Value"})," tag. For example:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-log",children:'[05:58:07 INFO]: .KastleFirefox issued server command: /paper dumpitem\n[05:58:07 INFO]: minecraft:player_head{display: {Name: \'{"text":"Test"}\'}, SkullOwner: {Properties: {textures: [{Value: "ewogICJ0aW1lc3RhbXAiIDogMTY1NzMyMjIzOTgzMywKICAicHJvZmlsZUlkIiA6ICJjZGRiZTUyMGQwNDM0YThiYTFjYzlmYzkyZmRlMmJjZiIsCiAgInByb2ZpbGVOYW1lIiA6ICJkYXZjaG9vIiwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlL2E5MDc5MGM1N2UxODFlZDEzYWRlZDE0YzQ3ZWUyZjdjOGRlMzUzM2UwMTdiYTk1N2FmN2JkZjlkZjFiZGU5NGYiLAogICAgICAibWV0YWRhdGEiIDogewogICAgICAgICJtb2RlbCIgOiAic2xpbSIKICAgICAgfQogICAgfQogIH0KfQ"}]}, Id: [I; -229048314, -553040501, -1407961158, 465313087]}}\n'})}),"\n",(0,l.jsx)(s.h3,{id:"skin-hashes",children:"Skin Hashes"}),"\n",(0,l.jsxs)(s.p,{children:["Skulls can be registered in this section via the hash of the skin on Minecraft's skin server. This is found at the end of the URL. For example, in the URL ",(0,l.jsx)(s.code,{children:"http://textures.minecraft.net/texture/a90790c57e181ed13aded14c47ee2f7c8de3533e017ba957af7bdf9df1bde94f"})," the hash is ",(0,l.jsx)(s.code,{children:"a90790c57e181ed13aded14c47ee2f7c8de3533e017ba957af7bdf9df1bde94f"}),".Unless the value is changed manually, these will not be updated when Geyser starts. As a result, they will not change if the player's username or skin changes."]}),"\n",(0,l.jsx)(s.p,{children:"This can be obtained by decoding the base64 data obtained from a player profile."}),"\n",(0,l.jsx)(s.h2,{id:"geyser-extensions",children:"Geyser extensions"}),"\n",(0,l.jsx)(s.p,{children:"In this example, we will register a custom skull from a player profile. We will use the player profile from the example above."}),"\n",(0,l.jsx)(s.p,{children:"First, create a class that implements Geyser's Extension class:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-java",children:"public class RegisterCustomSkull implements Extension {\n    //...\n}\n"})}),"\n",(0,l.jsxs)(s.p,{children:["Next, create a method to register your blocks in the ",(0,l.jsx)(s.code,{children:"GeyserDefineCustomSkullsEvent"}),":"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-java",children:"public class RegisterCustomSkull implements Extension {\n    @Subscribe\n    public void onDefineCustomSkulls(GeyserDefineCustomSkullsEvent event) {\n        //...\n    }\n}\n"})}),"\n",(0,l.jsx)(s.p,{children:"Finally, register your skull in the event. Use the enum SkullTextureType to specify that the value being passed is a player profile:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-java",children:'public class RegisterCustomSkull implements Extension {\n    @Subscribe\n    public void onDefineCustomSkulls(GeyserDefineCustomSkullsEvent event) {\n        String profile = "ewogICJ0aW1lc3RhbXAiIDogMTY1NzMyMjIzOTgzMywKICAicHJvZmlsZUlkIiA6ICJjZGRiZTUyMGQwNDM0YThiYTFjYzlmYzkyZmRlMmJjZiIsCiAgInByb2ZpbGVOYW1lIiA6ICJkYXZjaG9vIiwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlL2E5MDc5MGM1N2UxODFlZDEzYWRlZDE0YzQ3ZWUyZjdjOGRlMzUzM2UwMTdiYTk1N2FmN2JkZjlkZjFiZGU5NGYiLAogICAgICAibWV0YWRhdGEiIDogewogICAgICAgICJtb2RlbCIgOiAic2xpbSIKICAgICAgfQogICAgfQogIH0KfQ"\n        event.register(profile, SkullTextureType.PROFILE);\n    }\n}\n'})}),"\n",(0,l.jsx)(s.h2,{id:"scraping-custom-skulls-from-a-world",children:"Scraping custom skulls from a world"}),"\n",(0,l.jsxs)(s.p,{children:["Custom skulls can be extracted from an existing world for easy implementation via mappings or API using the tool ",(0,l.jsx)(s.a,{href:"https://github.com/davchoo/HeadExtractor",children:"HeadExtractor"})," made by Amberichu. See the linked repository for usage instructions."]})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var i=n(96540);const l={},t=i.createContext(l);function o(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);