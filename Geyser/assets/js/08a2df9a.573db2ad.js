"use strict";(self.webpackChunkgeyser_wiki=self.webpackChunkgeyser_wiki||[]).push([[5062],{79427:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"floodgate/api","title":"Floodgate API","description":"Floodgate has an API to allow servers to get information about the Bedrock client. It also allows plugins access to Cumulus, an API to send and collect form data from Bedrock players.","source":"@site/wiki/floodgate/api.md","sourceDirName":"floodgate","slug":"/floodgate/api","permalink":"/wiki/floodgate/api","draft":false,"unlisted":false,"editUrl":"https://github.com/GeyserMC/GeyserWebsite/tree/master/wiki/floodgate/api.md","tags":[],"version":"current","frontMatter":{"title":"Floodgate API","description":"Floodgate has an API to allow servers to get information about the Bedrock client. It also allows plugins access to Cumulus, an API to send and collect form data from Bedrock players."},"sidebar":"floodgateSidebar","previous":{"title":"Commands","permalink":"/wiki/floodgate/commands"},"next":{"title":"Linking","permalink":"/wiki/floodgate/linking"}}');var s=o(74848),a=o(28453);const i={title:"Floodgate API",description:"Floodgate has an API to allow servers to get information about the Bedrock client. It also allows plugins access to Cumulus, an API to send and collect form data from Bedrock players."},r=void 0,l={},d=[{value:"Accessing the Floodgate API",id:"accessing-the-floodgate-api",level:3},{value:"We&#39;ll highlight a few to get you started quickly:",id:"well-highlight-a-few-to-get-you-started-quickly",level:4},{value:"Using the API on backend servers",id:"using-the-api-on-backend-servers",level:3}];function c(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",h3:"h3",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Floodgate has an API to extend what is possible and allow servers to get information about the Bedrock client. It also allows other plugins access to ",(0,s.jsx)(t.a,{href:"/wiki/geyser/forms/",children:"Cumulus"})]}),"\n",(0,s.jsxs)(t.p,{children:["This page will contain information about class FloodgateApi.",(0,s.jsx)(t.br,{}),"\n","See the sidebar for more information about other parts of the API."]}),"\n",(0,s.jsx)(t.h3,{id:"accessing-the-floodgate-api",children:"Accessing the Floodgate API"}),"\n",(0,s.jsxs)(t.p,{children:["See ",(0,s.jsx)(t.a,{href:"/wiki/geyser/getting-started-with-the-api",children:"here"})," for how to include the Floodgate API in your project."]}),"\n",(0,s.jsx)(t.p,{children:"The Floodgate API has changed in Floodgate 2.0. The most important change is that the API methods are no longer static and instead instance-based, as shown below."}),"\n",(0,s.jsxs)(t.p,{children:["The class FloodgateApi is the base class of the API and you need to use it to access any part of the API.",(0,s.jsx)(t.br,{}),"\n","To access it, you simply type:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-java",children:"FloodgateApi.getInstance();\n"})}),"\n",(0,s.jsxs)(t.p,{children:["After you got the instance, you have access to all the methods.",(0,s.jsx)(t.br,{}),"\n","Use the documentation in the API module to see (and get info about) every single method available.",(0,s.jsx)(t.br,{}),"\n","Most ",(0,s.jsx)(t.a,{href:"https://github.com/GeyserMC/Floodgate/tree/master/api/src/main/java/org/geysermc/floodgate/api",children:"API methods have a simple explanation"}),"."]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["To see full, detailed documentation, see the ",(0,s.jsx)(t.a,{href:"https://repo.opencollab.dev/javadoc/maven-snapshots/org/geysermc/floodgate/api/latest",children:"javadocs"}),"."]})}),"\n",(0,s.jsx)(t.h4,{id:"well-highlight-a-few-to-get-you-started-quickly",children:"We'll highlight a few to get you started quickly:"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"FloodgateApi#isFloodgatePlayer(UUID)"}),(0,s.jsx)(t.br,{}),"\n","Used to check if the given UUID of an ",(0,s.jsx)(t.strong,{children:"online"})," player is a Bedrock player."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"FloodgateApi#getPlayer(UUID)"}),(0,s.jsx)(t.br,{}),"\n","Used to get the FloodgatePlayer instance of an ",(0,s.jsx)(t.strong,{children:"online"})," player.",(0,s.jsx)(t.br,{}),"\n","Click ",(0,s.jsx)(t.a,{href:"/wiki/floodgate/player/",children:"here"})," to get more information about the FloodgatePlayer class."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Note"}),": You don't need to wait until the Bedrock player is online to use the getPlayer and isFloodgatePlayer methods.",(0,s.jsx)(t.br,{}),"\n","You can even use them in the pre-login events."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"FloodgateApi#getPlayerLink()"}),(0,s.jsx)(t.br,{}),"\n","Used to get the PlayerLink instance used by Floodgate to check for linked accounts.",(0,s.jsx)(t.br,{}),"\n","Click ",(0,s.jsx)(t.a,{href:"/wiki/floodgate/linking/",children:"here"})," to get more information about the PlayerLink class"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"FloodgateApi#sendForm(UUID, Form(Builder))"}),(0,s.jsx)(t.br,{}),"\n","Used to send a form to the Bedrock player with the given UUID.",(0,s.jsx)(t.br,{}),"\n","Click ",(0,s.jsx)(t.a,{href:"/wiki/geyser/forms/",children:"here"})," to get more information about Forms."]}),"\n",(0,s.jsx)(t.h3,{id:"using-the-api-on-backend-servers",children:"Using the API on backend servers"}),"\n",(0,s.jsxs)(t.p,{children:["In order to successfully use the API on backend Spigot servers when using a proxy, ",(0,s.jsx)(t.code,{children:"send-floodgate-data"})," must be set to ",(0,s.jsx)(t.code,{children:"true"})," on the proxy Floodgate's config, and the ",(0,s.jsx)(t.code,{children:"key.pem"})," file must be identical between all Floodgate instances."]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,t,o)=>{o.d(t,{R:()=>i,x:()=>r});var n=o(96540);const s={},a=n.createContext(s);function i(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);