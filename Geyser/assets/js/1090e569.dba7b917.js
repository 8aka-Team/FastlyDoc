"use strict";(self.webpackChunkgeyser_wiki=self.webpackChunkgeyser_wiki||[]).push([[6802],{72578:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"geyser/packs","title":"Using Resource Packs with Geyser","description":"This page explains how to use resource packs with Geyser.","source":"@site/wiki/geyser/packs.md","sourceDirName":"geyser","slug":"/geyser/packs","permalink":"/wiki/geyser/packs","draft":false,"unlisted":false,"editUrl":"https://github.com/GeyserMC/GeyserWebsite/tree/master/wiki/geyser/packs.md","tags":[],"version":"current","frontMatter":{"title":"Using Resource Packs with Geyser","description":"This page explains how to use resource packs with Geyser."},"sidebar":"geyserSidebar","previous":{"title":"Custom Resource Packs","permalink":"/wiki/geyser/custom-resource-packs"},"next":{"title":"Custom Items","permalink":"/wiki/geyser/custom-items"}}');var o=n(74848),t=n(28453);const i={title:"Using Resource Packs with Geyser",description:"This page explains how to use resource packs with Geyser."},c="Introduction",a={},l=[{value:"Sending local packs",id:"sending-local-packs",level:3},{value:"Remote pack urls (accessible using the Geyser API)",id:"remote-pack-urls-accessible-using-the-geyser-api",level:3}];function d(e){const s={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.header,{children:(0,o.jsx)(s.h1,{id:"introduction",children:"Introduction"})}),"\n",(0,o.jsx)(s.p,{children:"Geyser supports sending Bedrock edition resource packs to connecting Bedrock clients.\nHowever, Geyser does not convert resource packs from the Java Edition format into the Bedrock edition format."}),"\n",(0,o.jsx)(s.p,{children:"Resource packs offer a range of customization options. Just like on Java, they can be used for a wide variety of things:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"Texture Modifications: Resource packs can change the look of blocks, items, and entities, providing a unique visual experience."}),"\n",(0,o.jsx)(s.li,{children:"Sound Changes: Custom sound effects or music tracks can be added to create a more immersive atmosphere."}),"\n",(0,o.jsx)(s.li,{children:"UI Enhancements: Resource packs can modify the user interface - a popular example would be providing a dark mode UI option.\n... and much more!"}),"\n"]}),"\n",(0,o.jsx)(s.h1,{id:"using-resource-packs",children:"Using resource packs"}),"\n",(0,o.jsx)(s.h3,{id:"sending-local-packs",children:"Sending local packs"}),"\n",(0,o.jsxs)(s.p,{children:["The easiest way to send resource packs to Bedrock players is by putting the Bedrock edition resource pack, either as a ",(0,o.jsx)(s.code,{children:".zip"})," or ",(0,o.jsx)(s.code,{children:".mcpack"})," file, into Geyser's ",(0,o.jsx)(s.code,{children:"packs"})," folder."]}),"\n",(0,o.jsx)(s.p,{children:"Location of the 'packs' folder:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Fabric/NeoForge: ",(0,o.jsx)(s.code,{children:"/config/Geyser-<platform>/packs/"})]}),"\n",(0,o.jsxs)(s.li,{children:["Geyser Standalone: ",(0,o.jsx)(s.code,{children:"/packs/"})," at the root directory"]}),"\n",(0,o.jsxs)(s.li,{children:["Other platforms: ",(0,o.jsx)(s.code,{children:"/plugins/Geyser-<platform>/packs/"})]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"After restarting the server (or reloading Geyser), players that connect will receive all packs that are in that folder."}),"\n",(0,o.jsx)(s.h3,{id:"remote-pack-urls-accessible-using-the-geyser-api",children:"Remote pack urls (accessible using the Geyser API)"}),"\n",(0,o.jsx)(s.p,{children:"As an alternative to sending local packs, you can also send resource packs by sending Bedrock players a link to download the packs from.\nThis works similarly to Java edition's pack downloading. However, there are a few key limitations:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"The link must be a direct link to the resource pack download (it will follow redirects, but those must result in a file download)"}),"\n",(0,o.jsx)(s.li,{children:"The Content-Length header must specify the exact file size."}),"\n",(0,o.jsxs)(s.li,{children:["The Content-Type application header must be set to ",(0,o.jsx)(s.code,{children:"application/zip"}),"."]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"Geyser will download your configured remote resource packs once on boot, and warn you if any of these conditions are not met.\nIt is unfortunately not possible to bypass these, as these are restrictions imposed by the Bedrock client."}),"\n",(0,o.jsxs)(s.p,{children:["To verify headers manually, curl the website and check the values.\nFor example:\n",(0,o.jsx)(s.code,{children:"curl -I -L https://download.geyser.fastly.8aka.cn/v2/projects/geyseroptionalpack/versions/1.0.10/builds/11/downloads/geyseroptionalpack"})," returns the following:"]}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"-I"}),": This option tells curl to fetch the HTTP response headers in the output."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"-L"}),": Ensures that curl follows redirects"]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"The output for this shows the following:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-shell",children:'HTTP/1.1 200 OK\nDate: Wed, 03 Jul 2024 23:03:06 GMT\nContent-Type: application/zip\nContent-Length: 95400\nConnection: keep-alive\naccess-control-allow-methods: GET\naccess-control-allow-origin: *\nCache-Control: public, s-maxage=1209600\ncontent-disposition: attachment; filename="=?UTF-8?Q?GeyserOptionalPack.mcpack?="; filename*=UTF-8\'\'GeyserOptionalPack.mcpack\netag: "0258409cde3a2906e1085490fa5b10b77"\nlast-modified: Wed, 03 Jul 2024 08:42:41 GMT\nCF-Cache-Status: HIT\nAge: 21500\nAccept-Ranges: bytes\nReport-To: {"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=DUpNVi9R96y13%2BlJm%2BNTpDLvSt9bw9CFDUh8Qwhpb9SsqjJbuInBGtSM5hiM2dGbSGkUccP4KvSqqD%2FCKrrcQ9ur5at5G0u8FrfooVTKLP%2B4MwGoUl29DwlxeMVg6tX36RjjICmV97M4FlErCZEe%2F3gM%2FA%3D%3D"}],"group":"cf-nel","max_age":604800}\nNEL: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}\nServer: cloudflare\nCF-RAY: 89da81ca69c63735-FRA\nalt-svc: h3=":443"; ma=86400\n'})}),"\n",(0,o.jsxs)(s.p,{children:["This shows that the content-length is indeed set correctly, and that the content type indeed is ",(0,o.jsx)(s.code,{children:"application/zip"}),".\nFurther, Geyser will attempt to read the ",(0,o.jsx)(s.code,{children:"ETag"})," to see if the content has changed. To query that, you can use the following:"]}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.code,{children:"curl -I -L -v https://download.geyser.fastly.8aka.cn/v2/projects/geyseroptionalpack/versions/1.0.10/builds/11/downloads/geyseroptionalpack 2>&1 | grep ETag"}),"\nAlternatively, just using the ",(0,o.jsx)(s.code,{children:"-v"})," header will turn on verbose mode that would also display the etag."]}),"\n",(0,o.jsx)(s.h1,{id:"common-questions",children:"Common questions"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Does Geyser support behavior packs/add-ons?"})," ",(0,o.jsx)("br",{}),"\nNo. These would require modifications on the Java server side, which isn't possible when Geyser is used on a proxy.\nHowever, many things that are possible with add-ons or behavior packs can be done with Geyser's API - such as ",(0,o.jsx)(s.a,{href:"/wiki/geyser/custom-items",children:"custom items"}),"\nor ",(0,o.jsx)(s.a,{href:"/wiki/geyser/custom-blocks",children:"custom blocks"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Does Geyser convert Java edition resource packs?"})," ",(0,o.jsx)("br",{}),"\nNot currently. For now, you need to manually create a Bedrock edition resource pack equivalent."]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Can I allow players to choose resource packs themselves?"})," ",(0,o.jsx)("br",{}),"\nOn most Bedrock platforms (except consoles), players are able to download and install resource packs on the client.\nThere is also a Geyser extension, ",(0,o.jsx)(s.a,{href:"https://github.com/onebeastchris/PickPack",children:"PickPack"})," that uses the Geyser API to allow all Bedrock players to choose from a set of resource packs."]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"On proxy setups: Are per-backend-server resource packs possible?"})," ",(0,o.jsx)("br",{}),"\nThis unfortunately is not possible natively, as Bedrock edition only allows removing and adding packs when connecting initially to the server.\nHowever, with the usage of the transfer packet, it is possible to instruct the Bedrock client to re-connect to the server, and to apply changes then.\nFor per-server-packs, you can use the unofficial ",(0,o.jsx)(s.a,{href:"https://github.com/onebeastchris/GeyserPackSync",children:"GeyserPackSync"})," plugin."]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Does Geyser have an API to send resource packs?"})," ",(0,o.jsx)("br",{}),"\nYes! See the ",(0,o.jsx)(s.a,{href:"/wiki/geyser/api/",children:"Geyser API docs"})," for more info on that. There is a ",(0,o.jsx)(s.code,{children:"SessionLoadResourcePacksEvent"})," to determine which\npacks are sent to each connecting player, or the more general ",(0,o.jsx)(s.code,{children:"GeyserDefineResourcePacksEvent"})," that defines the packs all users receive."]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"Can I use subpacks or specify the load order of resource packs"}),"? ",(0,o.jsx)("br",{}),"\nYou can! However, this feature requires you to use the Geyser API."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>c});var r=n(96540);const o={},t=r.createContext(o);function i(e){const s=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);