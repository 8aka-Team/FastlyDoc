"use strict";(self.webpackChunkgeyser_wiki=self.webpackChunkgeyser_wiki||[]).push([[6222],{51220:(e,t,n)=>{n.d(t,{A:()=>a});n(96540);const o="heroBanner_C1_G",i="textSection_qULn";var s=n(74848);const a=e=>{let{title:t,subheading:n,backgroundImage:a}=e;return(0,s.jsx)("div",{className:o,style:{backgroundImage:`url(${a})`},children:(0,s.jsxs)("div",{className:i,children:[(0,s.jsx)("h1",{children:t}),(0,s.jsx)("p",{children:n})]})})}},50086:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var o=n(45122),i=n(51220),s=n(24256),a=n(6597),r=n(24896),l=n(96540),c=n(74848),d=n(96763);const u=()=>{const[e,t]=(0,l.useState)(""),[n,a]=(0,l.useState)({}),u=/^#? ?[^:\sA-Z]+:(?!\S)/,f=(0,l.useRef)({}),h=(0,l.useRef)(null),p=async()=>{try{const e=await fetch("https://raw.githubusercontent.com/GeyserMC/Geyser/master/core/src/main/resources/config.yml");if(!e.ok)throw new Error("Network response was not ok");const t=await e.text();g(t)}catch(e){d.error("Failed to fetch default config:",e)}},m=async e=>{const t=e.target.files[0];if(!t.name.endsWith(".yml"))return void alert("Please select a .yml config file!");const n=new FileReader;n.onload=e=>{g(e.target.result)},n.readAsText(t)},g=e=>{t(e),a(x(e))},x=e=>{const t=e.split("\n");let n="",o="";const i={"":{}};let s=!1;for(let a=0;a<t.length;a++){let e=t[a];if(e.startsWith("  ")||(n=""),e=e.trim(),""===e){o="";continue}const r=e.startsWith("#");if(null===e.match(u)){r&&(o+=e.replace(/^# ?/i,"")+"<br>");continue}if(e.endsWith(":")){if(n=e.replace(":",""),"saved-user-logins"===n){s=!0;continue}s=!1,r&&(o+="<strong>Note: This option is commented out by default. It will be automatically uncommented if modified.</strong><br>"),o=o.replace(j,(function(e){return'<a href="'+e+'">'+e+"</a>"})),i[n]={sectionDesc0:o},o="";continue}if(s)continue;const l=e.split(":");l[0]=l[0].trim();let c="";for(let t=1;t<l.length;t++)c+=l[t];c=c.trim(),l[0].includes("proxy-protocol-whitelisted-ips")?o="":(r&&(o+="<strong>Note: This option is commented out by default. It will be automatically uncommented if modified.</strong><br>"),o=o.replace(j,(function(e){return'<a href="'+e+'">'+e+"</a>"})),i[n][l[0]]={desc:o,value:c,line:a},o="")}return i},b=e=>Object.keys(e).map((t=>(0,c.jsxs)("div",{className:r.A.card,children:[(0,c.jsx)("div",{className:r.A.cardHeader,children:""===t?"Root":t}),(0,c.jsx)("div",{className:r.A.cardBody,children:Object.keys(e[t]).map((n=>{const o=e[t][n];if("sectionDesc0"==n){if(""===o)return;return(0,c.jsx)("div",{className:r.A.configOption,children:(0,c.jsx)("p",{dangerouslySetInnerHTML:{__html:o}})})}const i=""===t?n:`${t}.${n}`,s=n.replace("#","").trim();return(0,c.jsxs)("div",{className:r.A.configOption,children:[(0,c.jsx)("h3",{children:s}),(0,c.jsx)("p",{dangerouslySetInnerHTML:{__html:o.desc}}),v(i,o.value)]},i)}))})]},t))),j=/https?:\/\/(([0-9a-z.]+\.[a-z]+)|(([0-9]{1,3}\.){3}[0-9]{1,3}))(:[0-9]+)?(\/[0-9a-z%\/.\-_]*)?(\?[0-9a-z=&%_\-]*)?(#[0-9a-z=&%_\-]*)?/gi,y=()=>{let t=e;const o=t.split("\n");Object.entries(f.current).forEach((e=>{let[t,i]=e;const s=t.split(".");let a=n;s.forEach(((e,t)=>{if(a.hasOwnProperty(e))if(t===s.length-1){const t=a[e],n=t.value,s=t.line,r=e.replace("#","").trim();o[s]=o[s].replace(`  ${e}: ${n}`,`  ${r}: ${i}`)}else a=a[e]}))})),t=o.join("\n"),function(e,t,n){const o=new Blob([e],{type:t}),i=document.createElement("a");i.download=n,i.href=URL.createObjectURL(o),i.dataset.downloadurl=[t,i.download,i.href].join(":"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout((()=>{URL.revokeObjectURL(i.href)}),1500)}(t,"text/plain","config.yml")};function v(e,t){const n=e=>{const{id:t,value:n,type:o,checked:i}=e.target;f.current={...f.current,[t]:"checkbox"===o?i.toString():n}};switch(e){case"remote.auth-type":return(0,c.jsxs)("select",{className:r.A.formInput,id:e,defaultValue:t,onChange:n,children:[(0,c.jsx)("option",{value:"offline",children:"offline"}),(0,c.jsx)("option",{value:"online",children:"online"}),(0,c.jsx)("option",{value:"floodgate",children:"floodgate"})]},e);case"show-cooldown":return(0,c.jsxs)("select",{className:r.A.formInput,id:e,defaultValue:t,onChange:n,children:[(0,c.jsx)("option",{value:"title",children:"title"}),(0,c.jsx)("option",{value:"actionbar",children:"actionbar"}),(0,c.jsx)("option",{value:"false",children:"false"})]},e);case"emote-offhand-workaround":return(0,c.jsxs)("select",{className:r.A.formInput,id:e,defaultValue:t,onChange:n,children:[(0,c.jsx)("option",{value:"disabled",children:"disabled"}),(0,c.jsx)("option",{value:"no-emotes",children:"no-emotes"}),(0,c.jsx)("option",{value:"emotes-and-offhand",children:"emotes-and-offhand"})]},e);case"config-version":return(0,c.jsx)("input",{className:r.A.formInput,type:"text",disabled:!0,defaultValue:t.replace(/"/g,"")},e);case"metrics.uuid":return(0,c.jsx)("input",{className:r.A.formInput,id:e,type:"text",disabled:!0,defaultValue:"generateduuid"===t?crypto.randomUUID():t},e);default:return"true"===t.toLowerCase()||"false"===t.toLowerCase()?(0,c.jsx)("div",{children:(0,c.jsx)("input",{className:r.A.checkbox,type:"checkbox",id:e,defaultChecked:"true"===t.toLowerCase(),onChange:n})},e):isNaN(t)?(0,c.jsx)("input",{className:r.A.formInput,type:"text",defaultValue:t.replace(/"/g,""),id:e,onChange:n},e):(0,c.jsx)("input",{className:r.A.formInput,type:"number",defaultValue:t,id:e,onChange:n},e)}}const N=()=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{children:(0,c.jsx)(o.default,{id:"pages.configeditor.noconfigselected.heading",children:"No config selected."})}),(0,c.jsx)("h3",{className:r.A.fontNormal,children:(0,c.jsx)(o.default,{id:"pages.configeditor.noconfigselected.subheading",children:"Upload a file or get started with the default config!"})}),(0,c.jsxs)("div",{className:r.A.buttonsContainer,children:[(0,c.jsx)("button",{className:r.A.button,onClick:p,children:(0,c.jsx)(o.default,{id:"pages.configeditor.button.defaultconfig",children:"Default"})}),(0,c.jsxs)("button",{className:r.A.button,onClick:()=>h.current.click(),children:[(0,c.jsx)("input",{ref:h,type:"file",className:r.A.hidden,accept:".yml",onChange:m}),(0,c.jsx)(o.default,{id:"pages.configeditor.button.upload",children:"Upload"})]})]})]}),_=()=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:r.A.buttonsContainer,style:{marginBottom:"30px"},children:(0,c.jsx)("button",{className:r.A.button,onClick:y,children:(0,c.jsx)(o.default,{id:"pages.configeditor.button.export",children:"Export"})})}),b(n)]});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.A,{title:(0,c.jsx)(o.default,{id:"pages.configeditor.title",children:"Config Editor"}),subheading:(0,c.jsx)(o.default,{id:"pages.configeditor.subheading",children:"Edit your Geyser configuration."}),backgroundImage:s.A}),(0,c.jsx)("div",{className:"container",style:{marginTop:"30px"},children:0===Object.keys(n).length?(0,c.jsx)(N,{}):(0,c.jsx)(_,{})}),(0,c.jsx)("section",{id:"config-options"})]})};function f(){return(0,c.jsx)(a.A,{title:"Config Editor",description:"Edit your Geyser configuration.",children:(0,c.jsx)("main",{children:(0,c.jsx)("div",{className:"container container--fluid margin-vert--lg",children:(0,c.jsx)(u,{})})})})}},24896:(e,t,n)=>{n.d(t,{A:()=>o});const o={buttonsContainer:"buttonsContainer_GEJ_",card:"card_GYzm",cardHeader:"cardHeader_WFOf",cardBody:"cardBody_TIhr",configOption:"configOption_em95",loadButton:"loadButton_olxq",statusMessage:"statusMessage_pG2t",pluginName:"pluginName_Hind",pluginInfoPopover:"pluginInfoPopover_rrsK",pluginNamePopover:"pluginNamePopover_H3Ih",pluginEnabled:"pluginEnabled_AwIq",pluginAuthorsLabel:"pluginAuthorsLabel_su9o",pluginEnabledIndicator:"pluginEnabledIndicator_DGSW",hidden:"hidden_XEeb",fontNormal:"fontNormal_wwrG",button:"button_SmRr",buttonSecondary:"buttonSecondary_r6Bx",formInput:"formInput_g3w_",noOutline:"noOutline_UAkF",checkbox:"checkbox_OrLo"}},24256:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/split-background-15df84c28d0058224eb6f0df577e9cf6.webp"}}]);